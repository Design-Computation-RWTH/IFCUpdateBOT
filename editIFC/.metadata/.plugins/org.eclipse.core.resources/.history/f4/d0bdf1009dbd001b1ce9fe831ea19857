package de.rwth_aachen.dc.ifc;

import java.io.File;
import java.nio.file.Path;

import org.bimserver.emf.PackageMetaData;
import org.bimserver.emf.Schema;
import org.bimserver.ifc.step.deserializer.Ifc2x3tc1StepStreamingDeserializer;
import org.bimserver.ifc.step.serializer.Ifc2x3tc1StepStreamingSerializer;
import org.bimserver.models.ifc2x3tc1.Ifc2x3tc1Package;
import org.bimserver.plugins.PluginConfiguration;
import org.bimserver.utils.DeserializerUtils;

public class IfcModel2x3 {
    public IfcModel2x3(Path ifcFilePath, Path ifcShcemaDirectory)
    {
		if (ifcFilePath.toFile().exists() && ifcFilePath.toFile().isFile()) {

    	Ifc2x3tc1StepStreamingDeserializer  deserializer2x3 = new Ifc2x3tc1StepStreamingDeserializer (); 


    	PackageMetaData pmd2x3 = new PackageMetaData(Ifc2x3tc1Package.eINSTANCE, Schema.IFC2X3TC1,
    			ifcShcemaDirectory);
    	
    	deserializer2x3.init(pmd2x3);
    	try {
			return DeserializerUtils.readFromFile(deserializer2x3, ifcFilePath);
		} catch (Exception e) {
			e.printStackTrace();
		}    	
    	Ifc2x3tc1StepStreamingSerializer is=new Ifc2x3tc1StepStreamingSerializer(new PluginConfiguration());
		}
    }
	
	public static void main(String[] args) {
		new IfcModel2x3();
	}
}
